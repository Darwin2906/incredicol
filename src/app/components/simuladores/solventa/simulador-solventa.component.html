<div class="simulador-container">
  <h2>Simulador Solventa</h2>

  <div class="form-group">
    <label for="monto">¿Cuánto necesitas?</label>
    <input
      type="range"
      id="monto"
      [(ngModel)]="monto"
      min="500000"
      max="5000000"
      step="50000"
      (input)="actualizarSimulacion()"
    />
    <div class="monto-valor">{{ monto | currency: 'COP' }}</div>
  </div>

  <div class="form-group">
    <label>¿Cuántas cuotas?</label>
    <div class="cuotas-selector">
      <button
        [class.selected]="cuotas === 1"
        (click)="setCuotas(1)"
      >
        1
      </button>
      <button
        [class.selected]="cuotas === 3"
        (click)="setCuotas(3)"
      >
        3
      </button>
      <button
        [class.selected]="cuotas === 6"
        (click)="setCuotas(6)"
      >
        6
      </button>
    </div>
  </div>

  <div class="form-group">
    <label>¿Cuándo prefieres pagar?</label>
    <div class="fecha-opciones-horizontal">
      <div
        class="tarjeta-fecha"
        [class.seleccionada]="plazoDias === 22"
        (click)="seleccionarFecha(22)"
      >
        En 22 días
        <small>{{ fecha22Texto }}</small>
      </div>
      <div
        class="tarjeta-fecha"
        [class.seleccionada]="plazoDias === 38"
        (click)="seleccionarFecha(38)"
      >
        En 38 días
        <small>{{ fecha38Texto }}</small>
      </div>
    </div>
  </div>

  <div class="resultados">
    <div class="pago-rango">
      <div>Bajo: {{ pagoBajo | currency: 'COP' }}</div>
      <div>Alto: {{ pagoAlto | currency: 'COP' }}</div>
    </div>

    <div class="credit-score-meter">
      <svg width="220" height="120">
        <path
          d="M20,100 A90,90 0 0,1 200,100"
          fill="none"
          stroke="#ccc"
          stroke-width="20"
        />
        <circle
          [attr.cx]="getPuntajeX(puntajeAnimado)"
          [attr.cy]="getPuntajeY(puntajeAnimado)"
          r="10"
          fill="#13bf3f"
        />
      </svg>
      <div class="credit-score-labels">
        <span>0</span>
        <span>50</span>
        <span>100</span>
      </div>
    </div>

    <a
      href="https://www.solventa.co/"
      target="_blank"
      class="btn-externo"
    >
      Continuar en Solventa
    </a>
  </div>
</div>
