<div class="simulador-container">
  <div class="header text-center mb-4">
    <div class="logo-container d-inline-flex align-items-center justify-content-center mb-3">
      <div class="logo-circle bg-success text-white d-flex align-items-center justify-content-center me-3">
        D
      </div>
      <h1 class="text-success mb-0">Simulador Doctor Peso</h1>
    </div>
    <p class="text-muted">Calcula tu préstamo de forma rápida y sencilla</p>
  </div>
  <div class="slider-section bg-light-green rounded-3 p-4 mb-4">
    <label class="form-label fw-semibold">¿Cuánto dinero necesitas?</label>
    <div class="slider-container d-flex align-items-center">
      <button class="btn btn-success btn-circle" (click)="cambiarMonto(-10000)">
        <span class="text-white fw-bold">-</span>
      </button>
      <input type="range" class="form-range mx-3 flex-grow-1"
             [(ngModel)]="monto" min="100000" max="1200000" step="10000">
      <button class="btn btn-success btn-circle" (click)="cambiarMonto(10000)">
        <span class="text-white fw-bold">+</span>
      </button>
      <span class="monto-display bg-white text-success fw-bold rounded-3 py-2 px-3 ms-3">
        {{ monto | currency:'COP':'symbol':'1.0-0' }}
      </span>
    </div>

    <div *ngIf="monto > 500000" class="alert alert-warning mt-3 mb-0">
      Clientes nuevos pueden pedir máximo <strong>$500.000</strong>
    </div>
  </div>
  <div class="date-section bg-white rounded-3 p-4 mb-4">
    <label for="fechaPago" class="form-label fw-semibold">Fecha de pago:</label>
    <input type="date" class="form-control" id="fechaPago"
           [ngModel]="fechaSeleccionada"
           (ngModelChange)="onFechaSeleccionadaChange($event)"
           [min]="generarFechaPorDefecto(7)"
           [max]="generarFechaPorDefecto(30)">
  </div>
  <div class="result-card bg-success text-white rounded-3 p-4 text-center mb-4">
    <p class="result-label mb-1">Monto a pagar:</p>
    <h2 class="result-value mb-0">{{ total | currency:'COP' }}</h2>
  </div>
  <div>
    <button class="btn btn-success btn-lg w-100 mb-2 fw-bold solicitar-btn"  target="_blank"
          (click)="comparar()">
      Comparar en Doctor Peso
    </button>
    <button class="btn btn-success btn-lg w-100 mb-2 fw-bold solicitar-btn"
          (click)="irAlFormulario()">
    Seguir con el proceso
  </button>
  </div>

  <div class="details-card bg-white rounded-3 p-4">
    <h3 class="details-title text-success text-center mb-4">Detalles del préstamo</h3>

    <div class="detail-item d-flex justify-content-between align-items-center mb-3">
      <span>Interés (24.1% EA):</span>
      <span class="fw-semibold">{{ interes | currency:'COP' }}</span>
    </div>

    <div class="detail-item d-flex justify-content-between align-items-center mb-3">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="fianzaCheck" [(ngModel)]="fianzaIncluida">
        <label class="form-check-label" for="fianzaCheck">Fianza (opcional)</label>
      </div>
      <span class="fw-semibold">{{ fianza | currency:'COP' }}</span>
    </div>

    <div class="detail-item d-flex justify-content-between align-items-center mb-3">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="firmaCheck" [(ngModel)]="firmaIncluida">
        <label class="form-check-label" for="firmaCheck">Firma electrónica (opcional)</label>
      </div>
      <span class="fw-semibold">{{ firma | currency:'COP' }}</span>
    </div>

    <hr>

    <div class="detail-item d-flex justify-content-between align-items-center iva-item">
      <span class="fw-bold">IVA:</span>
      <span class="fw-bold">{{ iva | currency:'COP' }}</span>
    </div>
  </div>
</div>