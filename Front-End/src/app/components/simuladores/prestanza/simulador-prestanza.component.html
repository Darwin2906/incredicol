<div class="simulador-container">
  <div class="header text-center mb-4">
    <div class="logo-container d-inline-flex align-items-center justify-content-center mb-3">
      <div class="logo-circle bg-verde-principal text-white d-flex align-items-center justify-content-center me-3">
        P
      </div>
      <h1 class="text-verde-principal mb-0">Simulador Prestanza</h1>
    </div>
    <p class="text-muted">Calcula tu próximo préstamo de forma fácil.</p>
  </div>

  <div class="main-card bg-white rounded-3 p-4 shadow-sm">
    <div class="campo mb-4">
      <label class="pregunta form-label fw-semibold">¿Qué tiempo necesitas?</label>
      <div class="slider-container">
        <div class="valor-tiempo text-verde-principal fw-bold">{{ plazo() }} mes{{ plazo() > 1 ? 'es' : '' }}</div>
        <input type="range" class="slider-prestanza form-range"
               min="1" max="6" step="1"
               [value]="plazo()"
               (input)="actualizarPlazo($any($event.target).value)">
        <div class="limites-tiempo d-flex justify-content-between text-muted mt-1">
          <span>1 mes</span>
          <span>6 meses</span>
        </div>
      </div>
    </div>

    <div class="campo mb-4">
      <label class="pregunta form-label fw-semibold">¿Cuánto dinero necesitas?</label>
      <div class="slider-container">
        <div class="valor-monto text-verde-principal fw-bold">{{ formatearMoneda(monto()) }}</div>
        <input type="range" class="slider-prestanza form-range"
               min="100000" max="2000000" step="100000"
               [value]="monto()"
               (input)="actualizarMonto($any($event.target).value)">
        <div class="limites-dinero d-flex justify-content-between text-muted mt-1">
          <span>{{ formatearMoneda(100000) }}</span>
          <span>{{ formatearMoneda(2000000) }}</span>
        </div>
      </div>
    </div>

    <div class="opcionales p-4 mb-4">
      <h5 class="fw-bold mb-3 text-verde-principal text-center">Opciones Adicionales</h5>
      
      <div class="form-check d-flex align-items-center mb-3" (click)="toggleAval()">
        <input class="form-check-input check-prestanza" type="checkbox" [checked]="mostrarAval()">
        <label class="form-check-label ms-2 cursor-pointer">
          <span class="fw-bold">Aval (Opcional)</span><br>
          <span class="text-muted">Protección adicional para tu préstamo</span>
        </label>
      </div>
      
      <div class="form-check d-flex align-items-center" (click)="toggleRed()">
        <input class="form-check-input check-prestanza" type="checkbox" [checked]="mostrarRed()">
        <label class="form-check-label ms-2 cursor-pointer">
          <span class="fw-bold">Red Prestanza (Opcional)</span><br>
          <span class="text-muted">Beneficios exclusivos para miembros</span>
        </label>
      </div>
    </div>

    <div class="resumen bg-verde-principal text-white rounded-3 p-4 text-center mb-4">
      <div class="resumen-header">Monto Solicitado</div>
      <div class="monto-solicitado fw-bold">{{ formatearMoneda(monto()) }}</div>
      
      <div class="detalle bg-white rounded-3 p-3 mt-4 text-dark">
        <div class="d-flex justify-content-between mb-2">
          <div class="item-label text-muted">Interés</div>
          <div class="item-value fw-semibold">{{ formatearMoneda(resumen().interes) }}</div>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <div class="item-label text-muted">Aval</div>
          <div class="item-value fw-semibold">{{ formatearMoneda(resumen().aval) }}</div>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <div class="item-label text-muted">Red Prestanza</div>
          <div class="item-value fw-semibold">{{ formatearMoneda(resumen().redPrestanza) }}</div>
        </div>
        <hr class="my-2">
        <div class="d-flex justify-content-between fw-bold">
          <div class="item-label">Total Crédito</div>
          <div class="item-value">{{ formatearMoneda(resumen().totalCredito) }}</div>
        </div>
        <div class="d-flex justify-content-between mt-3">
          <div class="item-label text-muted">Pagos Mensual(es)</div>
          <div class="item-value fw-semibold">{{ formatearMoneda(resumen().cuotaMensual) }}</div>
        </div>
      </div>
    </div>

    <button class="btn btn-lg w-100 mt-4 solicitar-btn" (click)="redirigirAPrestanza()">
      Comparar en Prestanza
    </button>
    <button class="btn btn-lg w-100 mt-4 solicitar-btn" (click)="irAlFormulario()">
      Seguir con el proceso
    </button>
  </div>
</div>